<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Caches (ImgLib2 Javadocs 1.0.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Caches (ImgLib2 Javadocs 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":17,"i1":17};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Caches.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../net/imglib2/algorithm/lazy/Caches.RandomAccessibleLoader.html" title="class in net.imglib2.algorithm.lazy"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/imglib2/algorithm/lazy/Caches.html" target="_top">Frames</a></li>
<li><a href="Caches.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.imglib2.algorithm.lazy</div>
<h2 title="Interface Caches" class="title">Interface Caches</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Caches</span></pre>
<div class="block">A simple method to cache an arbitrary a <a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2"><code>RandomAccessibleInterval</code></a> of
 the typical <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type"><code>NativeType</code></a> implementations in a memory cell image with
 volatile cells.

 TODO These methods should be in imglib2-cache.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Stephan Saalfeld</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/imglib2/algorithm/lazy/Caches.RandomAccessibleLoader.html" title="class in net.imglib2.algorithm.lazy">Caches.RandomAccessibleLoader</a>&lt;<a href="../../../../net/imglib2/algorithm/lazy/Caches.RandomAccessibleLoader.html" title="type parameter in Caches.RandomAccessibleLoader">T</a> extends <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type">NativeType</a>&lt;<a href="../../../../net/imglib2/algorithm/lazy/Caches.RandomAccessibleLoader.html" title="type parameter in Caches.RandomAccessibleLoader">T</a>&gt;&gt;</span></code>
<div class="block">A simple <a href="../../../../net/imglib2/cache/img/CellLoader.html" title="interface in net.imglib2.cache.img"><code>CellLoader</code></a> implementation that fills a pre-allocated
 cell with data from a <a href="../../../../net/imglib2/RandomAccessible.html" title="interface in net.imglib2"><code>RandomAccessible</code></a> source at the same
 coordinates.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T extends <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type">NativeType</a>&lt;T&gt;&gt;<br><a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2">RandomAccessibleInterval</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/imglib2/algorithm/lazy/Caches.html#cache-net.imglib2.RandomAccessibleInterval-int...-">cache</a></span>(<a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2">RandomAccessibleInterval</a>&lt;T&gt;&nbsp;source,
     int...&nbsp;blockSize)</code>
<div class="block">Cache a <a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2"><code>RandomAccessibleInterval</code></a> of the typical
 <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type"><code>NativeType</code></a> implementations in a memory cell image with volatile
 cells.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="https://javadoc.scijava.org/Java8/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="https://javadoc.scijava.org/Java8/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/imglib2/algorithm/lazy/Caches.html#preFetch-net.imglib2.RandomAccessible-net.imglib2.Interval-long:A-java.util.concurrent.ExecutorService-">preFetch</a></span>(<a href="../../../../net/imglib2/RandomAccessible.html" title="interface in net.imglib2">RandomAccessible</a>&lt;T&gt;&nbsp;source,
        <a href="../../../../net/imglib2/Interval.html" title="interface in net.imglib2">Interval</a>&nbsp;interval,
        long[]&nbsp;spacing,
        <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;exec)</code>
<div class="block">Trigger pre-fetching of an <a href="../../../../net/imglib2/Interval.html" title="interface in net.imglib2"><code>Interval</code></a> in a <a href="../../../../net/imglib2/RandomAccessible.html" title="interface in net.imglib2"><code>RandomAccessible</code></a>
 by concurrent sampling of values at a sparse grid.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cache-net.imglib2.RandomAccessibleInterval-int...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cache</h4>
<pre>static&nbsp;&lt;T extends <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type">NativeType</a>&lt;T&gt;&gt;&nbsp;<a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2">RandomAccessibleInterval</a>&lt;T&gt;&nbsp;cache(<a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2">RandomAccessibleInterval</a>&lt;T&gt;&nbsp;source,
                                                                   int...&nbsp;blockSize)</pre>
<div class="block">Cache a <a href="../../../../net/imglib2/RandomAccessibleInterval.html" title="interface in net.imglib2"><code>RandomAccessibleInterval</code></a> of the typical
 <a href="../../../../net/imglib2/type/NativeType.html" title="interface in net.imglib2.type"><code>NativeType</code></a> implementations in a memory cell image with volatile
 cells. The result can be used with non-volatile types for processing but
 it can also be wrapped into volatile types for visualization, see
 <code>VolatileViews.wrapAsVolatile(RandomAccessible)</code>.

 This is a very naive method to implement this kind of cache, but it
 serves the purpose for this tutorial. The imglib2-cache library offers
 more control over caches, and you should go and test it out.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - </dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - </dd>
<dd><code>blockSize</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="preFetch-net.imglib2.RandomAccessible-net.imglib2.Interval-long:A-java.util.concurrent.ExecutorService-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>preFetch</h4>
<pre>static&nbsp;&lt;T&gt;&nbsp;<a href="https://javadoc.scijava.org/Java8/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="https://javadoc.scijava.org/Java8/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;T&gt;&gt;&nbsp;preFetch(<a href="../../../../net/imglib2/RandomAccessible.html" title="interface in net.imglib2">RandomAccessible</a>&lt;T&gt;&nbsp;source,
                                         <a href="../../../../net/imglib2/Interval.html" title="interface in net.imglib2">Interval</a>&nbsp;interval,
                                         long[]&nbsp;spacing,
                                         <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;exec)
                                  throws <a href="https://javadoc.scijava.org/Java8/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                         <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Trigger pre-fetching of an <a href="../../../../net/imglib2/Interval.html" title="interface in net.imglib2"><code>Interval</code></a> in a <a href="../../../../net/imglib2/RandomAccessible.html" title="interface in net.imglib2"><code>RandomAccessible</code></a>
 by concurrent sampling of values at a sparse grid.

 Pre-fetching is only triggered and the set of value sampling
 <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent"><code>Future</code></a>s is returned such that it can be used to wait for
 completion or ignored (typically, ignoring will be best).

 This method is most useful to reduce wasted time waiting for high latency
 data loaders (such as AWS S3 or GoogleCloud). Higher and more random
 latency benefit from higher parallelism, e.g. total parallelism with
 <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/Executors.html?is-external=true#newCachedThreadPool--" title="class or interface in java.util.concurrent"><code>Executors.newCachedThreadPool()</code></a>. Medium latency loaders may be
 served better with a limited number of threads, e.g.
 <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/Executors.html?is-external=true#newFixedThreadPool-int-" title="class or interface in java.util.concurrent"><code>Executors.newFixedThreadPool(int)</code></a>. The optimal solution depends
 also on how the rest of the application is parallelized and how much
 caching memory is available.

 We do not suggest to use this to fill a <a href="../../../../net/imglib2/cache/img/CachedCellImg.html" title="class in net.imglib2.cache.img"><code>CachedCellImg</code></a> with a
 generator because now the <a href="https://javadoc.scijava.org/Java8/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent"><code>ExecutorService</code></a> will do the complete
 processing work without guarantees that the generated cells will persist.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - </dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - </dd>
<dd><code>interval</code> - </dd>
<dd><code>spacing</code> - </dd>
<dd><code>exec</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://javadoc.scijava.org/Java8/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="https://javadoc.scijava.org/Java8/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Caches.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../net/imglib2/algorithm/lazy/Caches.RandomAccessibleLoader.html" title="class in net.imglib2.algorithm.lazy"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/imglib2/algorithm/lazy/Caches.html" target="_top">Frames</a></li>
<li><a href="Caches.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2021 <a href="http://imglib2.net/">ImgLib2</a>. All rights reserved.</small></p>
</body>
</html>
